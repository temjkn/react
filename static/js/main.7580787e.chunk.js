(this["webpackJsonpit-kamasutra"]=this["webpackJsonpit-kamasutra"]||[]).push([[0],{12:function(e,a,t){e.exports={nav:"Nav_nav__3oF4R",active:"Nav_active__C6FOB",friendsWrap:"Nav_friendsWrap__1Ddit",friendItem:"Nav_friendItem__2PbWh",friendPhoto:"Nav_friendPhoto__12hjO"}},13:function(e,a,t){e.exports={top_image:"ProfileInfo_top_image__35v16",user_info:"ProfileInfo_user_info__11vhq",user_photo:"ProfileInfo_user_photo__3rTK6",user_list:"ProfileInfo_user_list__13WZ_"}},16:function(e,a,t){e.exports={post_item:"Post_post_item__3yDmn",post_photo:"Post_post_photo__1lHsL",like:"Post_like__9UxM1",add_like:"Post_add_like__32_R2",button:"Post_button__2L1vc"}},17:function(e,a,t){e.exports={photo:"User_photo__3fC22",card:"User_card__1rvMs",info:"User_info__MA7O5",pagination:"User_pagination__3DMw9",activePage:"User_activePage__RwmvT"}},21:function(e,a,t){e.exports=t.p+"static/media/avatar.108b6ddd.png"},22:function(e,a,t){e.exports={friendsWrap:"Friends_friendsWrap__1ROI_",friendItem:"Friends_friendItem__38AaS",friendPhoto:"Friends_friendPhoto__2l4bV"}},28:function(e,a,t){e.exports={top_image:"Profile_top_image__1VKE4",user_info:"Profile_user_info__2KdWh",user_photo:"Profile_user_photo__3PUo_",user_list:"Profile_user_list__R5YQB",new_news:"Profile_new_news__3hADn",news_wrap:"Profile_news_wrap__3pkjX",news_item:"Profile_news_item__3ReS7",news_photo:"Profile_news_photo__1X3FR"}},30:function(e,a,t){e.exports={wrap:"Preloader_wrap__1sgT3",content:"Preloader_content__3HIKE"}},46:function(e,a,t){e.exports=t(76)},5:function(e,a,t){e.exports={dialogs_wrap:"Dialogs_dialogs_wrap__2adFS",dialogs:"Dialogs_dialogs__wMdKc",dialog:"Dialogs_dialog__1iY2p",active:"Dialogs_active__7enAM",messages_wrap:"Dialogs_messages_wrap__S6utS",messages:"Dialogs_messages__1SKHz",message:"Dialogs_message__fFswP",yourMessage:"Dialogs_yourMessage__2StG2",newMessageInput:"Dialogs_newMessageInput__1c9NQ"}},51:function(e,a,t){},52:function(e,a,t){},53:function(e,a,t){},76:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(19),o=t.n(r);t(51),t(52),t(53);var i=function(){return s.a.createElement("header",{className:"header"}," I`m header")},l=t(12),c=t.n(l),u=t(9),m=t(11),_=t(22),d=t.n(_),p=t(21),g=t.n(p);var f=function(e){var a=e.friendsList.map((function(e){return e.followed&&s.a.createElement("a",{href:e.linkOnPage,className:d.a.friendItem,key:e.id},s.a.createElement("img",{className:d.a.friendPhoto,alt:e.name,src:null!=e.photos.small?e.photos.small:g.a}),s.a.createElement("span",null,e.name))}));return s.a.createElement("div",{className:d.a.friendsWrap},a)},E=Object(m.b)((function(e){return{friendsList:e.friendsList.users}}))(f);var v=function(e){return s.a.createElement("div",null,s.a.createElement("nav",{className:c.a.nav},s.a.createElement(u.b,{activeClassName:c.a.active,to:"/profile"},"profile"),s.a.createElement(u.b,{activeClassName:c.a.active,to:"/dialogs"},"messages"),s.a.createElement(u.b,{activeClassName:c.a.active,to:"/news"},"news"),s.a.createElement(u.b,{activeClassName:c.a.active,to:"/setting"},"setting"),s.a.createElement(u.b,{activeClassName:c.a.active,to:"/users"},"Users"),s.a.createElement("hr",null),s.a.createElement("span",null,"MY FRIENDS:")),s.a.createElement(E,null))},h=t(13),w=t.n(h);var P=function(){return s.a.createElement("div",null,s.a.createElement("div",{className:w.a.top_image},s.a.createElement("img",{alt:"we",src:"https://image.shutterstock.com/image-photo/bright-spring-view-cameo-island-260nw-1048185397.jpg"})),s.a.createElement("div",{className:w.a.user_info},s.a.createElement("div",{className:w.a.user_photo},s.a.createElement("img",{alt:"we",src:"https://miro.medium.com/max/1200/1*mk1-6aYaf_Bes1E3Imhc0A.jpeg"})),s.a.createElement("div",null,s.a.createElement("h2",null,"Fred"),s.a.createElement("span",{className:w.a.user_list},"Date of Birth: ",s.a.createElement("span",null,"23 dec.")),s.a.createElement("span",{className:w.a.user_list},"City: ",s.a.createElement("span",null,"Polock")),s.a.createElement("span",{className:w.a.user_list},"Education: ",s.a.createElement("span",null,"BSU")))))},O=t(15),b=t(1),N={postsData:[{id:1,message:"hi!",likesCount:1},{id:2,message:"ASDAShi!erwr",likesCount:25},{id:3,message:"ASDSDASD",likesCount:36},{id:4,message:"message",likesCount:5}],newPostText:""},S=function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_NEW_POST_TEXT":return Object(b.a)(Object(b.a)({},a),{},{newPostText:t.textMessage});case"ADD_POST":e=Object(b.a)({},a);var n=Object(O.a)(a.postsData).length;if(""!==e.newPostText){var s=n+1;return Object(b.a)(Object(b.a)({},a),{},{postsData:[].concat(Object(O.a)(a.postsData),[{id:s,message:e.newPostText,likesCount:0}]),newPostText:""})}break;case"CLICK":(e=Object(b.a)({},a)).postsData=Object(O.a)(a.postsData);for(var r=0;r<e.postsData.length;r++)e.postsData[r].id===t.id&&e.postsData[r].likesCount++;return e;default:return a}},D=t(28),C=t.n(D),T=t(16),k=t.n(T);var j=function(e){return s.a.createElement("div",{className:k.a.post_item},s.a.createElement("div",{className:k.a.post_photo},s.a.createElement("img",{alt:"we",src:"https://miro.medium.com/max/1200/1*mk1-6aYaf_Bes1E3Imhc0A.jpeg"})),s.a.createElement("div",{className:k.a.post_text},s.a.createElement("p",null,e.text),s.a.createElement("button",{onClick:function(){e.clickActionCreator(e.id)},className:"button "+k.a.button},"ADD LIKE"),s.a.createElement("span",{className:k.a.like},"like: ",e.like)))};var L=function(e){var a=e.postsData.map((function(a){return s.a.createElement(j,{key:a.id,clickActionCreator:e.clickActionCreator,text:a.message,like:a.likesCount,id:a.id})})),t=s.a.createRef();return s.a.createElement("div",null,s.a.createElement("h1",null,"My posts"),s.a.createElement("textarea",{className:C.a.new_news,placeholder:"your news",ref:t,onChange:function(){var a=t.current.value;e.updateNewPostText(a)},value:e.newPostText}),s.a.createElement("input",{className:"button",type:"submit",value:"send",onClick:function(){e.addPost()}}),s.a.createElement("div",{className:C.a.news_wrap},a.reverse()))},x=Object(m.b)((function(e){return{postsData:e.profilePage.postsData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(){e({type:"ADD_POST"})},updateNewPostText:function(a){var t=function(e){return{type:"UPDATE_NEW_POST_TEXT",textMessage:e}}(a);e(t)},clickActionCreator:function(a){var t=function(e){return{type:"CLICK",id:e}}(a);e(t)}}}))(L);var y=function(e){return s.a.createElement("div",null,s.a.createElement(P,null),s.a.createElement(x,null))};var M=function(){return s.a.createElement("div",null,s.a.createElement("span",null,"News"))};var A=function(){return s.a.createElement("div",null,s.a.createElement("span",null,"Setting"))},U=t(3),I={dialogsData:[{id:1,name:"Valera"},{id:2,name:"Bob"},{id:3,name:"Alex"},{id:4,name:"John"}],messagesData:[{id:1,message:"MessageSShi!",your:!1},{id:2,message:"MessageSSASDAShi!erwr",your:!1},{id:3,message:"MessageSSASDSDASD",your:!0},{id:4,message:"MessageSSmessage",your:!0},{id:5,message:"MessageSSmessage",your:!0},{id:6,message:"MessageSSmessage",your:!1},{id:7,message:"lastMessageSSmessage",your:!0}],newMessageText:""},R=function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TEXT_MESSAGE":return Object(b.a)(Object(b.a)({},a),{},{newMessageText:t.textMessage});case"ADD_MESSAGE":if(""!==(e=Object(b.a)({},a)).newMessageText)return Object(b.a)(Object(b.a)({},a),{},{messagesData:[].concat(Object(O.a)(a.messagesData),[{id:8,message:e.newMessageText,your:!0}]),newMessageText:""});break;default:return a}},F=t(5),W=t.n(F);var G=function(e){return s.a.createElement("div",{className:W.a.dialog},s.a.createElement(u.b,{activeClassName:W.a.active,to:"/dialogs/2"+e.id},e.name))};var B=function(e){return e.isYour?s.a.createElement("div",{className:W.a.message+" "+W.a.yourMessage},e.message):s.a.createElement("div",{className:W.a.message},e.message)};var K=function(e){var a=e.state.dialogsData.map((function(e){return s.a.createElement(G,{key:e.id,name:e.name,id:e.id})})),t=e.state.messagesData.map((function(e){return s.a.createElement(B,{key:e.id,message:e.message,isYour:e.your})})),n=s.a.createRef();return s.a.createElement("div",{className:W.a.dialogs_wrap},s.a.createElement("div",{className:W.a.dialogs},a),s.a.createElement("div",{className:W.a.messages},t,s.a.createElement("div",{className:W.a.newMessage},s.a.createElement("textarea",{onChange:function(){var a=n.current.value;e.updateTextMessage(a)},ref:n,placeholder:"new message",value:e.state.newMessageText,className:W.a.newMessageInput}),s.a.createElement("input",{onClick:function(){e.AddMessage()},value:"send message",type:"submit",className:"button "+W.a.button}))))},Y=Object(m.b)((function(e){return{state:e.dialogsPage}}),(function(e){return{updateTextMessage:function(a){e(function(e){return{type:"UPDATE_TEXT_MESSAGE",textMessage:e}}(a))},AddMessage:function(){e({type:"ADD_MESSAGE"})}}}))(K),X=t(42),H=t(43),J=t(45),V=t(44),Q=t(29),q=t(17),z=t.n(q);var Z=function(e){for(var a=Math.ceil(e.totalUsersCount/e.usersOnPage),t=[],n=1;n<=a;n++)t.push(n);return s.a.createElement("div",null,s.a.createElement("div",{className:z.a.pagination},t.map((function(a){return s.a.createElement("span",{className:e.currentPage===a&&z.a.activePage,onClick:function(t){e.onCangedPage(a)}},a,"_")}))),e.users.map((function(a){return s.a.createElement("div",{key:a.id,className:z.a.card},s.a.createElement("div",null,s.a.createElement("img",{src:null!=a.photos.small?a.photos.small:g.a,alt:a.name,className:z.a.photo}),a.followed?s.a.createElement("button",{onClick:function(){e.unfollow(a.id)}},"Unfollow"):s.a.createElement("button",{onClick:function(){e.follow(a.id)}},"Follow"),s.a.createElement("span",null,a.status)),s.a.createElement("div",{className:z.a.info},s.a.createElement("div",null,s.a.createElement("span",null,a.firstName),s.a.createElement("span",null,a.name)),s.a.createElement("div",null)))})))},$={users:[],myFriendtsList:0,totalUsersCount:0,usersOnPage:15,currentPage:1,isLoading:!0},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FOLLOW":return Object(b.a)(Object(b.a)({},e),{},{users:e.users.map((function(e){return e.id===a.userId?Object(b.a)(Object(b.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(b.a)(Object(b.a)({},e),{},{users:e.users.map((function(e){return e.id===a.userId?Object(b.a)(Object(b.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(b.a)(Object(b.a)({},e),{},{users:a.users});case"SET_TOTAL_USER_COUNT":return Object(b.a)(Object(b.a)({},e),{},{totalUsersCount:a.totalUsersCount});case"SET_CURRENT_PAGE":return Object(b.a)(Object(b.a)({},e),{},{currentPage:a.currentPage});case"TOGGLE_IS_LOADING":return Object(b.a)(Object(b.a)({},e),{},{isLoading:a.isLoading});default:return e}},ae=t(30),te=t.n(ae);var ne=function(){return s.a.createElement("div",{className:te.a.wrap},s.a.createElement("h2",{className:te.a.content},"...isLoading..."))},se=function(e){Object(J.a)(t,e);var a=Object(V.a)(t);function t(e){var n;return Object(X.a)(this,t),(n=a.call(this,e)).onCangedPage=function(e){n.props.setCurrentPage(e),n.props.toggleIsLoading(!0),Q.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(e,"&count=").concat(n.props.usersOnPage)).then((function(e){n.props.setUsers(e.data.items),n.props.toggleIsLoading(!1)}))},n.props.toggleIsLoading(!0),Q.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(n.props.currentPage,"&count=").concat(n.props.usersOnPage)).then((function(e){n.props.toggleIsLoading(!1),n.props.setUsers(e.data.items),n.props.setTotalUserCount(e.data.totalCount)})),n}return Object(H.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.props.isLoading?s.a.createElement(ne,null):null,s.a.createElement(Z,{totalUsersCount:this.props.totalUsersCount,usersOnPage:this.props.usersOnPage,currentPage:this.props.currentPage,onCangedPage:this.onCangedPage,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow}))}}]),t}(s.a.Component),re=Object(m.b)((function(e){return{users:e.friendsList.users,isLoading:e.friendsList.isLoading,totalUsersCount:e.friendsList.totalUsersCount,usersOnPage:e.friendsList.usersOnPage,currentPage:e.friendsList.currentPage}}),(function(e){return{follow:function(a){e(function(e){return{type:"FOLLOW",userId:e}}(a))},unfollow:function(a){e(function(e){return{type:"UNFOLLOW",userId:e}}(a))},setUsers:function(a){e(function(e){return{type:"SET_USERS",users:e}}(a))},setTotalUserCount:function(a){e({type:"SET_TOTAL_USER_COUNT",totalUsersCount:a})},setCurrentPage:function(a){e(function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}}(a))},toggleIsLoading:function(a){e(function(e){return{type:"TOGGLE_IS_LOADING",isLoading:e}}(a))}}}))(se);var oe=function(e){return s.a.createElement(u.a,null,s.a.createElement("div",{className:"app-wraper"},s.a.createElement(i,null),s.a.createElement(v,null),s.a.createElement("div",{className:"content"},s.a.createElement(U.a,{path:"/profile",render:function(){return s.a.createElement(y,null)}}),s.a.createElement(U.a,{path:"/dialogs",render:function(){return s.a.createElement(Y,null)}}),s.a.createElement(U.a,{path:"/news",component:M}),s.a.createElement(U.a,{path:"/users",render:function(){return s.a.createElement(re,null)}}),s.a.createElement(U.a,{path:"/Setting",component:A}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ie=t(24),le=(0,ie.createStore)((0,ie.combineReducers)({profilePage:S,dialogsPage:R,friendsList:ee}));o.a.render(s.a.createElement(u.a,null,s.a.createElement(m.a,{store:le},s.a.createElement(oe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.7580787e.chunk.js.map